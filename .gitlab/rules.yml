.pr_condition:
  rules:
    - if: $CI_COMMIT_BRANCH == "develop" || $CI_COMMIT_BRANCH == "master" || $CI_COMMIT_TAG
      when: never
    - if: $RUN_CI_TAG
  dependencies: []


.full_test_condition:
  rules:
    - if: $RUN_CI_TAG && ($STATUS_CONTEXT == "full" || $CI_COMMIT_BRANCH == "master" || $CI_COMMIT_BRANCH == "develop" || $CI_COMMIT_TAG)
  dependencies: []


.quick_test_condition:
  rules:
    - if: $RUN_CI_TAG && $STATUS_CONTEXT == null
  dependencies: []


.deploy_condition:
  rules:
    - if: $RUN_CI_TAG && ($CI_COMMIT_BRANCH == "master" || $CI_COMMIT_BRANCH == "develop" || $CI_COMMIT_TAG) && $CI_PIPELINE_SOURCE != "schedule"
  dependencies: []


.benchmark-spmv-cuda-rules:
  rules:
    - changes:
      - cuda/matrix/*
      - include/ginkgo/core/matrix/*
      - common/cuda_hip/matrix/*
      # - common/unified/matrix/* # for now no SpMV there?
  when: manual
